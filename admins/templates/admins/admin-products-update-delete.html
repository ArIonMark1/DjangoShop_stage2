{% extends 'admins/base.html' %}
{% load staticfiles %}

{% block content %}
    <main>
        <div class="container-fluid">
            <h1 class="mt-4">Редактирование Продукта | {{ product.name }}</h1>
            <div class="card-body">

                <form action="{% url 'admins:update_products' product.id %}" method="post"
                      enctype="multipart/form-data">
                    {% csrf_token %}
                    {# =================================================================================================#}
                    <div class="form-row">

                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="small mb-1" for="{{ form.name.id_for_label }}">Название товара</label>
                                {{ form.name }}
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="small mb-1" for="{{ form.description.id_for_label }}">Описание
                                    товара</label>
                                {{ form.description }}
                            </div>
                        </div>

                    </div>

                    {# =================================================================================================#}
                    <div class="form-row mb-2">

                        <div class="col-lg-12 text-center">
                            <img width="150"
                                 src="{% if product.image %} {{ product.image.url }}
                                {% else %} {% static 'vendor/img/products/default.png' %}
                                {% endif %}"
                                 class="img-thumbnail" alt="foto">
                        </div>
                        <div class="col-lg-12">
                            <div class="custom-file">

                                {{ form.image }}
                                <label class="custom-file-label" for="{{ form.image.id_for_label }}">Выберите
                                    изображение</label>
                            </div>
                        </div>
                    </div>
                    {# =================================================================================================#}
                    <div class="form-row">

                        <div class="col-lg-6">
                            <div class="form-group"
                                 style="text-align: center; display: flex; flex-direction: column; margin-top: 5px">
                                <label class="small mb-1" for="{{ form.price.id_for_label }}">Цена товара</label>
                                {{ form.price }}
                            </div>

                        </div>

                        <div class="col-lg-6">
                            <div class="form-group"
                                 style="text-align: center; display: flex; flex-direction: column; margin-top: 5px">
                                <label class="small mb-1" for="{{ form.quantity.id_for_label }}">Количество
                                    товара</label>
                                {{ form.quantity }}
                            </div>

                        </div>

                    </div>
                    {# =================================================================================================#}
                    <div class="form-row">

                        <div class="col-lg-6">
                            <div class="form-group"
                                 style="text-align: center; display: flex; flex-direction: column; margin-top: 5px">
                                <label class="small mb-1" for="{{ form.category.id_for_label }}">Катеогрия
                                    продукта</label>
                                {{ form.category }}
                            </div>

                        </div>

                        <div class="col-lg-6">
                            <div class="form-group" style="text-align: center;">
                                <label class="small mb-1" for="{{ form.is_active.id_for_label }}">Видимость
                                    товара</label>
                                {{ form.is_active }}
                            </div>

                        </div>

                    </div>
                    <div class="form-row">
                        <div class="col-lg-12" style="margin-top: 33px;">
                            <input class="btn btn-info btn-block" type="submit" value="Сохранить">
                        </div>
                    </div>
                </form>

                <div class="row">
                    <div class="col-lg-12" style="margin-top: 33px;">
                        <form action="{% url 'admins:delete_products' product.id %}" method="post">
                            {% csrf_token %}
                            <input type="submit" value="Удалить" class="btn btn-danger btn-block">
                        </form>

                        {#                     <a href="{% url 'admins:delete_products' product.id %}" class="btn btn-danger btn-block"#}
                        {#                           type="submit">Удалить</a>#}


                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}